# üêπ tg-hamster

![Go](https://img.shields.io/badge/Go-1.25.3-blue?logo=go)
![Docker](https://img.shields.io/badge/Docker-ready-blue?logo=docker)
![GitHub Workflow](https://img.shields.io/badge/CI-CD-green?logo=github)
![Build](https://img.shields.io/github/actions/workflow/status/Teleta/tg-hamster/ci.yml?branch=main)
![Tests](https://img.shields.io/badge/Tests-passing-brightgreen)
![Lint](https://img.shields.io/badge/Lint-passing-brightgreen)
![License](https://img.shields.io/badge/License-MIT-blue)

---

## –û–ø–∏—Å–∞–Ω–∏–µ

**tg-hamster** ‚Äî —ç—Ç–æ Telegram-–±–æ—Ç –Ω–∞ Go –¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–π:

- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–æ–≤—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —á–µ—Ä–µ–∑ **inline –∫–Ω–æ–ø–∫—É**.
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç **—Ç–∞–π–º–∞—É—Ç** –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–∞–Ω–∏—Ç—Å—è.
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç **progress bar** –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è –≤—Ä–µ–º–µ–Ω–∏.
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –∞–¥–º–∏–Ω–∞–º –º–µ–Ω—è—Ç—å —Ç–∞–π–º–∞—É—Ç –∫–æ–º–∞–Ω–¥–æ–π `/timeout`.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ä–∞–Ω–¥–æ–º–Ω—ã–µ —Ñ—Ä–∞–∑—ã —Å —ç–º–æ–¥–∑–∏** –¥–ª—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è.
- –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è **–±–µ–∑–∑–≤—É—á–Ω–æ**.
- –¢–∞–π–º–∞—É—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ **JSON**, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–µ –ø–æ –≥—Ä—É–ø–ø–∞–º.
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω **graceful shutdown** –∏ **polling**.

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```sh
git clone https://github.com/Teleta/tg-hamster.git
cd tg-hamster
```

2. –°–æ–∑–¥–∞—ë–º `.env`:

```
TELEGRAM_BOT_TOKEN=123456:ABC-DEF
TIMEOUT_FILE=./timeouts.json
```

3. –°–æ–±–∏—Ä–∞–µ–º –±–∏–Ω–∞—Ä—å:

```sh
make build
```

4. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker:

```sh
docker-compose up -d
```

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É** ‚Äî –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –Ω–æ–≤—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.
- **–ù–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ /timeout** ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∞–π–º–∞—É—Ç –¥–ª—è –≥—Ä—É–ø–ø—ã (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã):

```sh
/timeout 60
```

- –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞ **–±–µ–∑–∑–≤—É—á–Ω—ã–µ**, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —É—á–∞—Å—Ç–∏–µ.

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ unit-—Ç–µ—Å—Ç–æ–≤:

```sh
make test
```

–ó–∞–ø—É—Å–∫ –ª–∏–Ω—Ç–µ—Ä–∞:

```sh
make lint
```

---

## Docker

- `Dockerfile` –∏ `docker-compose.yml` –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–µ—Ä—ë—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `.env`.

---

## CI/CD

- GitHub Actions workflow –∑–∞–ø—É—Å–∫–∞–µ—Ç:
    - –°–±–æ—Ä–∫—É –ø—Ä–æ–µ–∫—Ç–∞
    - Unit-—Ç–µ—Å—Ç—ã
    - GolangCI-Lint

- `Taskfile.yml` –≤–∫–ª—é—á–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã:
    - `make build` ‚Äî —Å–æ–±—Ä–∞—Ç—å –±–∏–Ω–∞—Ä—å
    - `make test` ‚Äî –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
    - `make lint` ‚Äî –∑–∞–ø—É—Å–∫ –ª–∏–Ω—Ç–µ—Ä–∞
    - `make docker-build` ‚Äî —Å–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
    - `make docker-up` / `make docker-down` ‚Äî –ø–æ–¥–Ω—è—Ç–∏–µ/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

---

## License

MIT License ¬© Teleta